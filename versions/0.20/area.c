#include <stdio.h>
#include <curses.h>
#include <stdbool.h>
#include "render.h"
#include "player.h"
#include "area.h"
#include "game.h"


/* --- IMPLEMENTAZIONE FUNZIONI --- */

//Matrice che rappresenta l'intera area di gioco
char areaGioco [MAXY][MAXX] = {
    { "0000000000000000000000000000000000000000000000000000000"},
    { "0 ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ 000 ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ 0"},
    { "0 ~ 0000000 ~ 000000000 ~ 000 ~ 000000000 ~ 0000000 ~ 0"},
    { "0 * 0000000 ~ 000000000 ~ 000 ~ 000000000 ~ 0000000 * 0"},
    { "0 ~ 0000000 ~ 000000000 ~ 000 ~ 000000000 ~ 0000000 ~ 0"},
    ( "0 ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ 0"),
    { "0 ~ 0000000 ~ 000 ~ 000000000000000 ~ 000 ~ 0000000 ~ 0"},
    { "0 ~ 0000000 ~ 000 ~ 000000000000000 ~ 000 ~ 0000000 ~ 0"},
    { "0 ~ ~ ~ ~ ~ ~ 000 ~ ~ ~ ~ 000 ~ ~ ~ ~ 000 ~ ~ ~ ~ ~ ~ 0"},
    { "00000000000 ~ 000000000   000   000000000 ~ 00000000000"},
    { "         00 ~ 000000000   000   000000000 ~ 00         "},
    { "         00 ~ 000                     000 ~ 00         "},
    { "         00 ~ 000   000000   000000   000 ~ 00         "},
    { "00000000000 ~ 000   00           00   000 ~ 00000000000"},
    { "            ~       00           00       ~            "},
    { "00000000000 ~ 000   00           00   000 ~ 00000000000"},
    { "         00 ~ 000   000000000000000   000 ~ 00         "},
    { "         00 ~ 000                     000 ~ 00         "},
    { "         00 ~ 000   000000000000000   000 ~ 00         "},
    { "00000000000 ~ 000   000000000000000   000 ~ 00000000000"},
    { "0 ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ 000 ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ 0"},
    { "0 ~ 0000000 ~ 000000000 ~ 000 ~ 000000000 ~ 0000000 ~ 0"},
    { "0 ~ 0000000 ~ 000000000 ~ 000 ~ 000000000 ~ 0000000 ~ 0"},
    { "0 * ~ ~ 000 ~ ~ ~ ~ ~ ~ ~     ~ ~ ~ ~ ~ ~ ~ 000 ~ ~ * 0"},
    { "00000 ~ 000 ~ 000 ~ 000000000000000 ~ 000 ~ 000 ~ 00000"},
    { "00000 ~ 000 ~ 000 ~ 000000000000000 ~ 000 ~ 000 ~ 00000"},
    { "0 ~ ~ ~ ~ ~ ~ 000 ~ ~ ~ ~ 000 ~ ~ ~ ~ 000 ~ ~ ~ ~ ~ ~ 0"},
    { "0 ~ 0000000000000000000 ~ 000 ~ 0000000000000000000 ~ 0"},
    { "0 ~ 0000000000000000000 ~ 000 ~ 0000000000000000000 ~ 0"},
    { "0 ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ 0"},
    { "0000000000000000000000000000000000000000000000000000000"}
};

//Restituisce un elemento della mappa
char getSquareMap(int y, int x) {
    return areaGioco[y][x];
}

//Controlla se in una data posizione non vi è un muro, TRUE se è valida
bool isValidSquare(int y, int x) {
    if(getSquareMap(y, x) != '0')
        return TRUE;
    return FALSE;
}

//Permette si modificare un quadratto della mappa se si inserisce un valore valido 
void setSquareMap(int y, int x, char c) {
    if(isValidSquare(y, x))
        areaGioco[y][x] = c;
} 